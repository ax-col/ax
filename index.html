<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.json">
  <title>AX PRINCIPAL</title>
  <!-- Favicon principal para navegadores -->
<link rel="icon" type="image/png" sizes="192x192" href="png-principal/icon-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="png-principal/icon-512x512.png">

<!-- Íconos para Android y Apple (opcional pero recomendado) -->
<link rel="apple-touch-icon" sizes="192x192" href="png-principal/icon-192x192.png">
<link rel="apple-touch-icon" sizes="512x512" href="png-principal/icon-512x512.png">

</head>
<body>

  <h1 id="animated-text">AX PRINCIPAL</h1>

  <div class="button-container">
    <a href="raspa/" class="button">¿ R A S P A ?</a>
    <a href="viwnet/" class="button">ANTIGUO VIWNET</a>
    <a href="Windows/" class="button">Activación de Windows</a>
    <a href="web-apks/" class="button">ApHacks (INAPKS)</a>
   <!-- <a href="/" class="button>(Offline)</a> -->
    <a href="CPWEB/" class="button">CP WEB (Colaboración)</a>
    <a href="x/" class="button">Próximamente</a>
    <a href="x/" class="button">Próximamente</a>
  </div>


<iframe height="80px" width="300px" frameborder="0" src=https://livecounts.io/embed/youtube-live-subscriber-counter/UCX6OQ3DkcsbYNE6H8uQQuVA style="border: 0; width:300px; height:80px;"></iframe>
<h3>M R  B E A S T</h3>

<iframe height="80px" width="300px" frameborder="0" src=https://livecounts.io/embed/youtube-live-subscriber-counter/UCtXv3unPu38qzWVu-WhFOYg style="border: 0; width:300px; height:80px;"></iframe>
<h3>A N D R E S  W G</h3> 

<iframe height="80px" width="300px" frameborder="0" src=https://livecounts.io/embed/youtube-live-subscriber-counter/UCq-Fj5jknLsUf-MWSy4_brA style="border: 0; width:300px; height:80px;"></iframe>
<h3>T  S E R I E S</h3>


<!-- Botón para activar/desactivar sonido -->
<button class="mute-toggle" onclick="toggleMute()">Activar sonido</button>

<!-- Video para escritorio -->
<video class="video-desktop" id="videoDesktop" autoplay muted loop playsinline preload="auto">
  <source src="https://files.catbox.moe/xfe1j6.mp4 type="video/mp4" />
</video>
<!--Video original https://files.catbox.moe/xfe1j6.mp4 -->

<!-- Video para móviles -->
<video class="video-mobile" id="videoMobile" autoplay muted loop playsinline preload="auto">
  <source src="https://files.catbox.moe/jsvevz.mp4" type="video/mp4" />
</video>
<!-- Video original "https://files.catbox.moe/jsvevz.mp4 -->


<script>
  function toggleMute() {
    const videoDesktop = document.getElementById('videoDesktop');
    const videoMobile = document.getElementById('videoMobile');
    const btn = document.querySelector('.mute-toggle');

    const activeVideo = window.innerWidth >= 768 ? videoDesktop : videoMobile;

    activeVideo.muted = !activeVideo.muted;
    btn.textContent = activeVideo.muted ? 'Activar sonido' : 'Silenciar';
  }
</script> 


<script>
  const video = document.getElementById('bg-video');
  const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;

  if (connection && connection.effectiveType) {
    if (['2g', 'slow-2g', '3g'].includes(connection.effectiveType)) {
      video.remove(); // Conexión lenta, no se carga el video
    }
  }
</script>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(function(registration) {
          console.log('Service Worker registrado con éxito:', registration);
        })
        .catch(function(error) {
          console.log('Error al registrar el Service Worker:', error);
        });
    }
  </script>

<script>
  const localVersion = '1.1.3';

  function checkVersion() {
    fetch('version.txt', { cache: 'no-store' })
      .then(response => response.text())
      .then(serverVersion => {
        if (serverVersion.trim() !== localVersion) {
          console.log("Nueva versión detectada. Recargando...");
          location.reload(true);
        }
      })
      .catch(error => console.error("Error verificando versión:", error));
  }

  // Verifica cada 1 segundos
  setInterval(checkVersion, 1000);

  // También revisa al cargar la página
  checkVersion();
</script>
  
  <script src="script.js"></script>
</body>
</html>
